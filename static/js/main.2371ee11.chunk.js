(this["webpackJsonpago-info"]=this["webpackJsonpago-info"]||[]).push([[0],{174:function(e,t,n){},175:function(e,t,n){},187:function(e,t,n){},314:function(e,t,n){},323:function(e,t,n){},324:function(e,t,n){},335:function(e,t,n){},336:function(e,t,n){},337:function(e,t,n){"use strict";n.r(t);var r=n(5),c=n(0),a=n.n(c),i=n(27),o=n.n(i),s=(n(174),n(10)),l=n(11),u=n(18),j=n(17),b=(n(175),n(57)),h=n(33),d=(n(176),n(157)),O=(n(113),n(59)),m=(n(179),n(168)),p=(n(338),n(72)),f=(n(184),n(128)),g=(n(114),n(56)),v=(n(187),n.p+"static/media/logo.8ca7528f.ico"),y=n(340),x=n(341),k=n(122),S=n.n(k),U=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"get",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e._request2(t,n,"get")}},{key:"post",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e._request2(t,n,"post")}},{key:"request",value:function(e,t,n){return new Promise((function(r,c){("get"===n?S.a.get(e,t):S.a.post(e,t)).then((function(e){r(e)})).catch((function(e){g.b.error("\u8bf7\u6c42\u51fa\u9519\u4e86\uff1a"+e.message)}))}))}},{key:"_request2",value:function(t,n,r){return new Promise((function(r,c){try{setTimeout((function(){"/login"===t&&e._check(n)?r({data:{status:0,message:"\u6210\u529f",name:n.username}}):r({data:{status:-1,message:"\u7528\u6237\u540d\u5bc6\u7801\u9519\u8bef\uff01"}})}),3e3)}catch(a){g.b.error("\u8bf7\u6c42\u51fa\u9519\u4e86\uff1a"+a.message)}}))}},{key:"_check",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&"admin1234"===e.username&&"12#$"===e.password}}]),e}();function _(e,t){return U.post("/login",{username:e,password:t})}var A=function e(){Object(s.a)(this,e)};A.BASE_URL="/ago-info",A.USER_KEY="user_key";var E=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"user",get:function(){return this._user},set:function(e){this._user=e}}]),e}();E._user={name:"Jerry"};var w=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"saveUser",value:function(e){localStorage.setItem(A.USER_KEY,JSON.stringify(e))}},{key:"getUser",value:function(){return JSON.parse(localStorage.getItem(A.USER_KEY)||"{}")}},{key:"removeUser",value:function(){localStorage.removeItem(A.USER_KEY)}},{key:"clear",value:function(){localStorage.clear()}}]),e}(),R=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={loading:!1},e.onFinish=function(t){console.log("Received values of form: ",t),e.setState({loading:!0}),_(t.username,t.password).then((function(t){console.log("\u54cd\u5e94\u7ed3\u679c",t);var n=t.data;0===n.status?(g.b.success("\u767b\u5f55\u6210\u529f"),E.user={name:n.name},w.saveUser({name:n.name}),e.props.history.replace(A.BASE_URL),console.log(E.user)):g.b.error(n.message),e.setState({loading:!1})}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=E.user;return e&&e.name?Object(r.jsx)(h.a,{to:A.BASE_URL}):Object(r.jsxs)("div",{className:"login",children:[Object(r.jsxs)("header",{className:"login-header",children:[Object(r.jsx)("img",{src:v,alt:"logo"}),Object(r.jsx)("h1",{children:"AGO - \u6570\u636e\u7cfb\u7edf"})]}),Object(r.jsx)("section",{className:"login-content",children:Object(r.jsxs)(d.a,{tip:"Loading...",size:"large",spinning:this.state.loading,children:[Object(r.jsx)("h2",{children:"\u7528\u6237\u767b\u5f55"}),Object(r.jsxs)(p.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:this.onFinish,children:[Object(r.jsx)(p.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"},{min:6,message:"\u7528\u6237\u540d\u6700\u5c116\u4f4d"},{max:12,message:"\u7528\u6237\u540d\u6700\u591a12\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u7528\u6237\u540d\u5fc5\u987b\u7531\u82f1\u6587\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u7ec4\u6210"}],children:Object(r.jsx)(f.a,{prefix:Object(r.jsx)(y.a,{className:"site-form-item-icon",style:{color:"rgba(0,0,0,0.25"}}),type:"text",placeholder:"Username"})}),Object(r.jsx)(p.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(r.jsx)(f.a.Password,{prefix:Object(r.jsx)(x.a,{className:"site-form-item-icon",style:{color:"rgba(0,0,0,0.25"}}),type:"password",placeholder:"Password"})}),Object(r.jsxs)(p.a.Item,{children:[Object(r.jsx)(p.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(r.jsx)(m.a,{children:"Remember me"})}),Object(r.jsx)("a",{className:"login-form-forgot",href:"",children:"Forgot password"})]}),Object(r.jsxs)(p.a.Item,{children:[Object(r.jsx)(O.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Log in"}),"Or ",Object(r.jsx)("a",{href:"",children:"register now!"})]})]})]})})]})}}]),n}(c.Component),C=(n(310),n(81)),L=(n(312),n(110)),N=(n(314),n(342)),B=n(343),P=n(344),I=n(345),F=[{title:"\u9996\u9875",key:"/home",icon:Object(r.jsx)(N.a,{})},{title:"\u6d3b\u52a8\u4fe1\u606f",key:"/activity",icon:Object(r.jsx)(B.a,{})},{title:"\u6e38\u620f\u653b\u7565",key:"/strategy",icon:Object(r.jsx)(P.a,{}),children:[{title:"\u65b0\u624b\u653b\u7565",key:"/beginner",icon:null},{title:"\u8fdb\u9636\u653b\u7565",key:"/advance",icon:null},{title:"\u804c\u4e1a\u89c4\u5212",key:"/plan",icon:null}]},{title:"\u6570\u636e\u5b9e\u4f53",key:"/entity",icon:Object(r.jsx)(I.a,{}),children:[{title:"NPC",key:"/npc",icon:null},{title:"\u602a\u7269",key:"/monster",icon:null},{title:"\u5ba0\u7269",key:"/pet",icon:null},{title:"\u88c5\u5907",key:"/equipment",icon:null},{title:"\u804c\u4e1a-\u6280\u80fd",key:"/skill",icon:null}]}],T=L.a.SubMenu,q=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(s.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).getMenuNodes=function(t,n){return n.map((function(n){return n.children?Object(r.jsx)(T,{icon:n.icon,title:n.title,children:e.getMenuNodes(n.key,n.children)},n.key):(e.path.endsWith(n.key)&&(e.openKey=t),Object(r.jsx)(L.a.Item,{icon:n.icon,children:Object(r.jsx)(b.b,{to:A.BASE_URL+n.key,children:n.title})},n.key))}))},e}return Object(l.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){this.path=this.props.location.pathname,this.menuNodes=this.getMenuNodes(A.BASE_URL,F)}},{key:"render",value:function(){var e=this.props.location.pathname;this.openKey;return Object(r.jsxs)("div",{className:"left-nav",children:[Object(r.jsxs)(b.b,{to:A.BASE_URL,className:"left-nav-header",children:[Object(r.jsx)("img",{src:v,alt:"logo"}),Object(r.jsx)("h1",{children:"AGO - Info"})]}),Object(r.jsx)(L.a,{defaultSelectedKeys:e,selectedKeys:e,defaultOpenKeys:["/strategy","/entity"],mode:"inline",theme:"dark",children:this.menuNodes})]})}}]),n}(c.Component),D=Object(h.g)(q),K=(n(321),n(167)),M=n(127),W=n.n(M),J=n(166),Y=n(97),G=(n(323),function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"formatDate",value:function(e){if(!e)return"";var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}}]),e}()),z=n(129),H=(n(324),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("button",Object(z.a)(Object(z.a)({className:"link-button"},this.props),{},{children:this.props.children}))}}]),n}(c.Component)),Q=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={currentTime:G.formatDate(Date.now()),dayPictureUrl:"http://api.map.baidu.com/images/weather/day/qing.png",weather:"\u6674"},e.getTime=function(){e.intervalId=setInterval((function(){var t=G.formatDate(Date.now());e.setState({currentTime:t})}),1e3)},e.getWeather=Object(J.a)(W.a.mark((function t(){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({dayPictureUrl:"http://api.map.baidu.com/images/weather/day/qing.png",weather:"\u6674"});case 2:case"end":return t.stop()}}),t)}))),e.getTitle=function(){var t=e.props.location.pathname,n="";return F.forEach((function(e){if(t.endsWith(e.key))n=e.title;else if(e.children){var r=e.children.find((function(e){return t.endsWith(e.key)}));r&&(n=r.title)}})),n},e.logout=function(){K.a.confirm({title:"\u63d0\u793a",content:"\u786e\u5b9a\u8981\u9000\u51fa\u5417\uff1f",onOk:function(){console.log("ok",Object(Y.a)(e)),w.removeUser(),E.user={},e.props.history.replace(A.BASE_URL+"login")}})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getTime(),this.getWeather()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.currentTime,n=e.dayPictureUrl,c=e.weather,a=E.user.name,i=this.getTitle();return Object(r.jsxs)("div",{className:"header",children:[Object(r.jsxs)("div",{className:"header-top",children:[Object(r.jsxs)("span",{children:["\u6b22\u8fce\uff0c",a]}),Object(r.jsx)(H,{onClick:this.logout,children:"\u9000\u51fa"})]}),Object(r.jsxs)("div",{className:"header-bottom",children:[Object(r.jsx)("div",{className:"header-bottom-left",children:i}),Object(r.jsxs)("div",{className:"header-bottom-right",children:[Object(r.jsx)("span",{children:t}),Object(r.jsx)("img",{src:n,alt:""}),Object(r.jsx)("span",{children:c})]})]})]})}}]),n}(c.Component),$=Object(h.g)(Q),V=n(346),Z=n(347),X=n(348),ee=(n(335),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"home",children:"\u6b22\u8fce\u4f7f\u7528 AGO - \u6570\u636e\u7cfb\u7edf"})}}]),n}(c.Component)),te=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{children:"Activity"})}}]),n}(c.Component),ne=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{children:"Product"})}}]),n}(c.Component),re=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{children:"Role"})}}]),n}(c.Component),ce=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{children:"User"})}}]),n}(c.Component),ae=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{children:"ChartLine"})}}]),n}(c.Component),ie=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{children:"ChartBar"})}}]),n}(c.Component),oe=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{children:"ChartPie"})}}]),n}(c.Component),se=(n(336),C.a.Footer),le=C.a.Sider,ue=C.a.Content,je=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=E.user;return e&&e.name&&""!==e.name?Object(r.jsxs)(C.a,{className:"admin",children:[Object(r.jsx)(le,{children:Object(r.jsx)(D,{})}),Object(r.jsxs)(C.a,{children:[Object(r.jsx)($,{children:"Header"}),Object(r.jsx)(ue,{style:{margin:"20px",backgroundColor:"white"},children:Object(r.jsxs)(h.d,{children:[Object(r.jsx)(h.b,{path:A.BASE_URL+"/home",component:ee}),Object(r.jsx)(h.b,{path:A.BASE_URL+"/activity",component:te}),Object(r.jsx)(h.b,{path:A.BASE_URL+"/beginner",component:ne}),Object(r.jsx)(h.b,{path:A.BASE_URL+"/advance",component:re}),Object(r.jsx)(h.b,{path:A.BASE_URL+"/plan",component:ce}),Object(r.jsx)(h.b,{path:A.BASE_URL+"/npc",component:ie}),Object(r.jsx)(h.b,{path:A.BASE_URL+"/monster",component:ae}),Object(r.jsx)(h.b,{path:A.BASE_URL+"/pet",component:oe}),Object(r.jsx)(h.b,{path:A.BASE_URL+"/equipment",component:oe}),Object(r.jsx)(h.b,{path:A.BASE_URL+"/skill",component:oe}),Object(r.jsx)(h.a,{to:A.BASE_URL+"/home"})]})}),Object(r.jsxs)(se,{style:{textAlign:"center",color:"#ACACAC"},children:["\xa92020 A Lion. All rights reserved.\xa0\xa0\xa0\xa0",Object(r.jsx)("a",{href:"https://github.com/AlionSSS/ago-info",target:"_blank",rel:"noreferrer",children:Object(r.jsx)(V.a,{})}),"\xa0\xa0\xa0\xa0",Object(r.jsx)("a",{href:"mailto:alionsss@outlook.com",rel:"nofollow",children:Object(r.jsx)(Z.a,{})}),"\xa0\xa0\xa0\xa0",Object(r.jsx)("a",{onClick:function(){return g.b.info("QQ: 444066154")},children:Object(r.jsx)(X.a,{})})]})]})]}):Object(r.jsx)(h.a,{to:A.BASE_URL+"/login"})}}]),n}(c.Component),be=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)(b.a,{children:Object(r.jsxs)(h.d,{children:[Object(r.jsx)(h.b,{path:A.BASE_URL+"/login",component:R}),Object(r.jsx)(h.b,{path:A.BASE_URL,component:je}),Object(r.jsx)(h.a,{to:A.BASE_URL})]})})}}]),n}(c.Component),he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,349)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},de=w.getUser();E.user=de,o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(be,{})}),document.getElementById("root")),he()}},[[337,1,2]]]);
//# sourceMappingURL=main.2371ee11.chunk.js.map